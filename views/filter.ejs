<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

  <link rel="stylesheet" href="css/filter.css">

  <title>Student-teacher system</title>
</head>

<body>
  <h1>Different Filtering Options</h1>

  <form action="/filterTeachersAccToSubject" method="POST" id="AccToSubject">
    <label>List of teachers according to the selected subject:</label>
    <select name="selectedSubject">
      <option value="null"> -- select Subject -- </option>
      <% teachersDetail.forEach(function(item){ %>
      <option><%= item.subject%></option>
      <% }) %>
    </select>
    <br>

    <button type="submit">Filter</button>
  </form>

  <% if(teachersDetailAccToSubject != "false"){ %>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Subject</th>
      </tr>
    </thead>
    <tbody>
      <% if(teachersDetailAccToSubject.length >0){ %>
      <% teachersDetailAccToSubject.forEach(function(item){ %>
      <tr>
        <td><%= item.name%></td>
        <td><%= item.email%></td>
        <td><%= item.subject%></td>
      </tr>
      <% })}else{ %>
      <tr>
        <td colspan="6">No Record Found</td>
      </tr>
      <% } %>
    </tbody>
  </table>
  <%}%>

    <form action="/filterStudentsAccToClassSection" method="POST" id="AccToClassSection">
      <label>List of students according to class:</label>
      <select name="selectedClass">
          <option value="null"> -- select Class -- </option>
          <option value="8th">8th</option>
          <option value="9th">9th</option>
      </select>
      <br>

      <label for="filter2Section">List of students according to section:</label>
      <select name="selectedSection">
        <option value="null"> -- select Section -- </option>
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
      </select>
      <br>

      <button type="submit">Filter</button>
    </form>

    <% if(studentsDetailAccToClassSection != "false"){ %>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Class</th>
        <th scope="col">Section</th>
        <th scope="col">Assigned Teacher</th>
      </tr>
    </thead>
    <tbody>
      <% if(studentsDetailAccToClassSection.length >0){ %>
      <% studentsDetailAccToClassSection.forEach(function(item){ %>
      <tr>
        <td><%= item.name%></td>
        <td><%= item.email%></td>
        <td><%= item.class%></td>
        <td><%= item.section%></td>
        <td><%= item.assignedTeacher%></td>
      </tr>
      <% })}else{ %>
      <tr>
        <td colspan="6">No Record Found</td>
      </tr>
      <% } %>
    </tbody>
  </table>
  <%}%>

    <form action="/filterStudentsAccToAssignedTeacher" method="POST" id="AccToAssignedTeacher">
      <label>List of students according to assigned teacher:</label>
      <select name="selectedTeacher">
        <option value="null"> -- select Teacher -- </option>
        <% teachersDetail.forEach(function(item){ %>
  <option><%= item.name%></option>
  <% }) %>
  </select>
  <br>

  <button type="submit">Filter</button>
  </form>

  <% if(studentsDetailAccToAssignedTeacher != "false"){ %>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Class</th>
        <th scope="col">Section</th>
        <th scope="col">Assigned Teacher</th>
      </tr>
    </thead>
    <tbody>
      <% if(studentsDetailAccToAssignedTeacher.length >0){ %>
      <% studentsDetailAccToAssignedTeacher.forEach(function(item){ %>
      <tr>
        <td><%= item.name%></td>
        <td><%= item.email%></td>
        <td><%= item.class%></td>
        <td><%= item.section%></td>
        <td><%= item.assignedTeacher%></td>
      </tr>
      <% })}else{ %>
      <tr>
        <td colspan="6">Records Not Found</td>
      </tr>
      <% } %>
    </tbody>
  </table>
  <%}%>

  <a class="btn btn-primary btn-sm" id="home" href="/">Go to Home</a>
  <a class="btn btn-primary btn-sm" id="edit" href="/editStudentDetails">Edit Student Detail</a>
  </body>
</html>
